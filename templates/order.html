<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>订单管理</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
{% extends "base.html" %}
{% block title %}订单管理 - 智管{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h4>订单管理</h4>
  <a class="btn btn-primary" href="#">新增订单</a>
</div>

<div id="order-table" class="table-responsive"></div>

<script>
fetch('/order/data').then(r=>r.json()).then(data=>{
  let html = '<table class="table table-sm"><thead><tr><th>ID</th><th>客户</th><th>总价</th><th>日期</th></tr></thead><tbody>';
  data.forEach(o => { html += `<tr><td>${o.id}</td><td>${o.customer}</td><td>${o.total_price}</td><td>${o.date}</td></tr>`; });
  html += '</tbody></table>';
  document.getElementById('order-table').innerHTML = html;
});
</script>
{% endblock %}
</body>
</html>