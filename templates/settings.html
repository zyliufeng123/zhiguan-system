<!DOCTYPE html><html><head><title>设置</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body><div class="container">
<h2>动态字段管理</h2>
<form>
<select id="table_sel"><option>选择表 (bids/orders)</option></select><br>
新字段名: <input id="field_name"><br>
类型: <select id="field_type"><option>str</option><option>float</option><option>int</option></select><br>
<button onclick="addField()" class="btn btn-primary">新增字段</button>
</form>
<script>
function addField() {
table = document.getElementById('table_sel').value;
fetch('/api/fields/add', {method:'POST', headers:{'Content-Type':'application/json'},
body: JSON.stringify({table: table, name: document.getElementById('field_name').value, type: document.getElementById('field_type').value})})
.then(r=>r.json()).then(data=> alert(data.success ? '添加成功' : '错误'));
}
</script>
</body></html>